<div class="flex flex-col gap-2 border ">
  <form [formGroup]="form"  (ngSubmit)="addUser()" class=" m-auto p-4 w-[26rem] min-h-48 max-h-max flex flex-col gap-4 border rounded-md ">
    <div class="input-controller" class="px-4 h-16 flex flex-col">
        <label for="name">Name</label>
        <input type="text" id="name" formControlName="name" class=" p-1 px-2 border border-sky-400 rounded-md outline-sky-500">
        <div class="error-box flex flex-col text-[11px] text-red-600" >
            <span *ngIf="name && name.touched && name.errors?.['required'] ">Enter name</span>
            <span *ngIf="name && name.touched && name.errors?.['minlength'] || name?.errors?.['pattern'] ">name length should be min 3 and only contains letter</span>
        </div>
    </div>
    <div class="input-controller" class="px-4 h-16 flex flex-col">
        <label for="email">Email</label>
        <input type="text" id="email" formControlName="email" class=" p-1 px-2 border border-sky-400 rounded-md outline-sky-500">
        <div class="error-box flex flex-col text-[11px] text-red-600" >
            <span *ngIf="email && email.touched && email.errors?.['required'] ">Enter email</span>
            <span *ngIf="email && email.touched && email.errors?.['minlength'] || email?.errors?.['pattern'] ">email length should be min 3 and only contains letter</span>
        </div>
    </div>
    <div class="input-controller" class="px-4 h-16 flex flex-col">
        <label for="phone">Phone</label>
        <input type="text" id="phone" formControlName="phone" class=" p-1 px-2 border border-sky-400 rounded-md outline-sky-500">
        <div class="error-box flex flex-col text-[11px] text-red-600" >
            <span *ngIf="phone && phone.touched && phone.errors?.['required'] ">Enter phone</span>
            <span *ngIf="phone && phone.touched && phone.errors?.['minlength'] || phone?.errors?.['pattern'] ">phone length should be min 3 and only contains letter</span>
        </div>
    </div>
    <div class="input-controller" class="px-4 h-16 flex flex-col">
        <label for="password">password</label>
        <input type="text" id="password" formControlName="password" class=" p-1 px-2 border border-sky-400 rounded-md outline-sky-500">
        <div class="error-box flex flex-col text-[11px] text-red-600" >
            <span *ngIf="password && password.touched && password.errors?.['required'] ">Enter password</span>
            <span *ngIf="password && password.touched && password.errors?.['minlength'] || password?.errors?.['pattern'] ">password length should be min 3 and only contains letter</span>
        </div>
    </div>

    <mat-radio-group aria-label="Select an option">
      <mat-radio-button ngDefaultControl="1" value="1">Option 1</mat-radio-button>
      <mat-radio-button value="2">Option 2</mat-radio-button>
    </mat-radio-group>
    <div class="input-controller" class="px-4 h-16 flex flex-row-reverse gap-4 justify-end">
      <mat-checkbox class="example-margin" formControlName="admin">Are you a admin ?</mat-checkbox>
    </div>

    
    <button type="submit" class="p-1 px-2 m-auto mt-4 w-40 border border-sky-400 rounded-md hover:bg-sky-500 hover:text-white transition-colors delay-75 ease-in cursor-pointer"  [disabled]="form.status === 'INVALID'">submit</button>
</form>
  <div *ngFor="let user of users" class="flex flex-col gap-2 border">
    <h3>
      name:  {{user.name}}
    </h3>
    <h4>
      email:  {{user.email}}
    </h4>
    <span *ngIf="user.admin">
      admin:  {{user.admin}}
    </span>
    <span *ngIf="user.phone">
      phone:  {{user.phone}}
    </span>
  </div>
</div>
