<div class="flex flex-col gap-2 border ">
  <form [formGroup]="form"  (ngSubmit)="addUser()" class=" m-auto p-4 w-[26rem] min-h-48 max-h-max flex flex-col gap-4 border rounded-md ">
    <div class="input-controller" class="px-4 h-16 flex flex-col">
        <label for="name">Name</label>
        <input type="text" id="name" formControlName="name" class=" p-1 px-2 border border-sky-400 rounded-md outline-sky-500">
        <div class="error-box flex flex-col text-[11px] text-red-600" >
            <span *ngIf="name && name.touched && name.errors?.['required'] ">Enter name</span>
            <span *ngIf="name && name.touched && name.errors?.['minlength'] || name?.errors?.['pattern'] ">name length should be min 3 and only contains letter</span>
        </div>
    </div>
    <div class="input-controller" class="px-4 h-16 flex flex-col">
        <label for="email">Email</label>
        <input type="text" id="email" formControlName="email" class=" p-1 px-2 border border-sky-400 rounded-md outline-sky-500">
        <div class="error-box flex flex-col text-[11px] text-red-600" >
            <span *ngIf="email && email.touched && email.errors?.['required'] ">Enter email</span>
            <span *ngIf="email && email.touched && email.errors?.['minlength'] || email?.errors?.['pattern'] ">email length should be min 3 and only contains letter</span>
        </div>
    </div>
    <div class="input-controller" class="px-4 h-16 flex flex-col">
        <label for="phone">Phone</label>
        <input type="text" id="phone" formControlName="phone" class=" p-1 px-2 border border-sky-400 rounded-md outline-sky-500">
        <div class="error-box flex flex-col text-[11px] text-red-600" >
            <span *ngIf="phone && phone.touched && phone.errors?.['required'] ">Enter phone</span>
            <span *ngIf="phone && phone.touched && phone.errors?.['minlength'] || phone?.errors?.['pattern'] ">phone length should be min 3 and only contains letter</span>
        </div>
    </div>
    <div class="input-controller" class="px-4 h-16 flex flex-col">
        <label for="password">password</label>
        <input type="text" id="password" formControlName="password" class=" p-1 px-2 border border-sky-400 rounded-md outline-sky-500">
        <div class="error-box flex flex-col text-[11px] text-red-600" >
            <span *ngIf="password && password.touched && password.errors?.['required'] ">Enter password</span>
            <span *ngIf="password && password.touched && password.errors?.['minlength'] || password?.errors?.['pattern'] ">password length should be min 3 and only contains letter</span>
        </div>
    </div>
    <div class="input-controller" class="px-4 h-16 flex flex-row-reverse gap-4 justify-end">
      <label for="admin">Are you a Admin ?</label>
      <input id="admin" formControlName="admin"
        class="mr-2 mt-[0.3rem] h-3.5 w-8 appearance-none rounded-[0.4375rem] bg-neutral-300 before:pointer-events-none before:absolute before:h-3.5 before:w-3.5 before:rounded-full before:bg-transparent before:content-[''] after:absolute after:z-[2] after:-mt-[0.1875rem] after:h-5 after:w-5 after:rounded-full after:border-none after:bg-neutral-100 after:shadow-[0_0px_3px_0_rgb(0_0_0_/_7%),_0_2px_2px_0_rgb(0_0_0_/_4%)] after:transition-[background-color_0.2s,transform_0.2s] after:content-[''] checked:bg-sky-500 checked:after:absolute checked:after:z-[2] checked:after:-mt-[3px] checked:after:ml-[1.0625rem] checked:after:h-5 checked:after:w-5 checked:after:rounded-full checked:after:border-none checked:after:bg-primary checked:after:shadow-[0_3px_1px_-2px_rgba(0,0,0,0.2),_0_2px_2px_0_rgba(0,0,0,0.14),_0_1px_5px_0_rgba(0,0,0,0.12)] checked:after:transition-[background-color_0.2s,transform_0.2s] checked:after:content-[''] hover:cursor-pointer focus:outline-none focus:ring-0 focus:before:scale-100 focus:before:opacity-[0.12] focus:before:shadow-[3px_-1px_0px_13px_rgba(0,0,0,0.6)] focus:before:transition-[box-shadow_0.2s,transform_0.2s] focus:after:absolute focus:after:z-[1] focus:after:block focus:after:h-5 focus:after:w-5 focus:after:rounded-full focus:after:content-[''] checked:focus:border-primary checked:focus:bg-primary checked:focus:before:ml-[1.0625rem] checked:focus:before:scale-100 checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca] checked:focus:before:transition-[box-shadow_0.2s,transform_0.2s] dark:bg-neutral-600 dark:after:bg-neutral-400 dark:checked:bg-primary dark:checked:after:bg-primary dark:focus:before:shadow-[3px_-1px_0px_13px_rgba(255,255,255,0.4)] dark:checked:focus:before:shadow-[3px_-1px_0px_13px_#3b71ca]"
        type="checkbox" role="switch" />
      <!-- <input type="" id="phone" formControlName="admin" class=" p-1 px-2 border border-sky-400 rounded-md outline-sky-500"> -->
    </div>

    
    <button type="submit" class="p-1 px-2 m-auto mt-4 w-40 border border-sky-400 rounded-md hover:bg-sky-500 hover:text-white transition-colors delay-75 ease-in cursor-pointer"  [disabled]="form.status === 'INVALID'">submit</button>
</form>
  <div *ngFor="let user of users" class="flex flex-col gap-2 border">
    <h3>
      name:  {{user.name}}
    </h3>
    <h4>
      email:  {{user.email}}
    </h4>
    <span *ngIf="user.admin">
      admin:  {{user.admin}}
    </span>
    <span *ngIf="user.phone">
      phone:  {{user.phone}}
    </span>
  </div>
</div>
